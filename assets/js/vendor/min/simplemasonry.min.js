!function(t){function e(e){var i=Math.min.apply(Math,e);return t.inArray(i,e)}function i(t){for(var e=[],i=0;t>i;i++)e.push(0);return e}function a(e){var i=t(e).outerWidth(),a=t(e).offsetParent().width();return{width:100*i/a,num:Math.floor(a/i)}}Array.max=function(t){return Math.max.apply(Math,t)},t.easing.__Slide=function(t,e,i,a,s){return a*Math.sqrt(1-(e=e/s-1)*e)+i},t.simplemasonry=function(s,n){var r={animate:!1,easing:"__Slide",timeout:800},o=t.extend({},r,n),m=t(s),h=this;t.extend(h,{refresh:function(){var e=t("img",s),i=e.length,a=0;e.length>0&&m.addClass("sm-images-waiting").removeClass("sm-images-loaded"),e.on("load",function(){a++,a==i&&(h.resize(),m.removeClass("sm-images-waiting").addClass("sm-images-loaded"))}),h.resize()},resize:function(){var s=m.children(),n=a(s[0]),r=n.width,h=n.num,d=i(h),l=function(){var i=t(this).outerHeight(),a=e(d),s=Math.round(a*r*10)/10,n={left:s+"%",top:d[a]+"px"};t(this).css({position:"absolute"}).stop(),o.animate?t(this).animate(n,o.timeout,o.easing):t(this).css(n),d[a]+=i};s.css({overflow:"hidden",zoom:"1"}).each(l),m.css({position:"relative",height:Array.max(d)+"px"})}}),t(window).resize(h.resize),m.addClass("sm-loaded"),h.refresh()},t.fn.simplemasonry=function(e){if("string"!=typeof e)return this.each(function(){if(void 0==t(this).data("simplemasonry")){var i=new t.simplemasonry(this,e);t(this).data("simplemasonry",i)}});var i=t(this).data("simplemasonry"),a=Array.prototype.slice.call(arguments,1);return i[e]?i[e].apply(i,a):void 0}}(jQuery);